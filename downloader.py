from urllib.request import urlopen
import os
import requests
from tqdm import tqdm

os.chdir(os.getcwd() + '/Hashes')

base_url = 'https://virusshare.com/hashfiles/VirusShare_'

try:
	with tqdm() as pbar:
		for i in range(0,99999):
			num_s = str(i+1)
			file_exists = os.path.isfile(num_s)
			if(file_exists):
				pbar.set_postfix_str(num_s + ' is present skipping..')
				pass
			else:
				num = num_s.zfill(5)
				url = base_url + num + '.md5'
				pbar.update(1)
				pbar.set_postfix_str('downloading file no. ' + num_s)
				exist = requests.head(url)
				if(exist.status_code == 200):
					data = urlopen(url)
					with open(num_s, 'wb') as f:
						f.write(data.read())
				else:
					print("End of URLs")
					break

except:
	print("error")

